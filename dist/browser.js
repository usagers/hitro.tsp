"use strict";var tsp=(()=>{var Q=Object.defineProperty;var ze=Object.getOwnPropertyDescriptor;var qe=Object.getOwnPropertyNames,bt=Object.getOwnPropertySymbols;var Rt=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable;var st=(t,e,r)=>e in t?Q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,S=(t,e)=>{for(var r in e||(e={}))Rt.call(e,r)&&st(t,r,e[r]);if(bt)for(var r of bt(e))We.call(e,r)&&st(t,r,e[r]);return t};var Ye=(t,e)=>{for(var r in e)Q(t,r,{get:e[r],enumerable:!0})},Le=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of qe(e))!Rt.call(t,n)&&n!==r&&Q(t,n,{get:()=>e[n],enumerable:!(o=ze(e,n))||o.enumerable});return t};var Ze=t=>Le(Q({},"__esModule",{value:!0}),t);var E=(t,e,r)=>st(t,typeof e!="symbol"?e+"":e,r);var Ke={};Ye(Ke,{batch:()=>je,camelCase:()=>Ie,check:()=>Ce,clone:()=>nt,computed:()=>ke,curry:()=>yt,dateFormat:()=>Ut,debounce:()=>pt,default:()=>Be,effect:()=>xt,equal:()=>B,hyphenCase:()=>Fe,isArray:()=>b,isAsyncFunction:()=>Tt,isBoolean:()=>se,isDate:()=>P,isDecimal:()=>ut,isEmptyArray:()=>Vt,isEmptyMap:()=>wt,isEmptyObject:()=>Qt,isEmptySet:()=>It,isEmptyString:()=>Gt,isError:()=>Kt,isEvalError:()=>Lt,isFalse:()=>ue,isFinite:()=>h,isFunction:()=>q,isGeneratorFunction:()=>lt,isInfinity:()=>kt,isInteger:()=>z,isMap:()=>w,isNaN:()=>Y,isNonEmptyArray:()=>Ht,isNonEmptyMap:()=>Ft,isNonEmptyObject:()=>Jt,isNonEmptySet:()=>Nt,isNonEmptyString:()=>j,isNormalFunction:()=>dt,isNull:()=>ct,isNullable:()=>A,isNumber:()=>_,isObject:()=>x,isPromise:()=>le,isRangeError:()=>Yt,isReferenceError:()=>qt,isRegExp:()=>m,isSafeInteger:()=>H,isSafeNumber:()=>At,isSet:()=>F,isString:()=>R,isSymbol:()=>Z,isSyntaxError:()=>Wt,isTrue:()=>ae,isTypeError:()=>Zt,isURIError:()=>Bt,isUndef:()=>at,isValidDate:()=>ft,isWeakMap:()=>rt,isWeakSet:()=>de,lowerCase:()=>Re,merge:()=>Se,signal:()=>Ae,throttle:()=>he,toFinite:()=>tt,toFixed:()=>et,toInteger:()=>L,toNumber:()=>_t,toPromise:()=>fe,toRegExp:()=>ee,toSafeInteger:()=>jt,toSafeNumber:()=>Dt,toSymbol:()=>ie,toSymbolFor:()=>ne,underCase:()=>Ee,unique:()=>_e,untracked:()=>Oe,upperCase:()=>Ne});var Nt=t=>F(t)&&t.size>0,It=t=>F(t)&&t.size===0,F=t=>Object.prototype.toString.call(t)==="[object Set]",Et={isNonEmptySet:Nt,isEmptySet:It,isSet:F};var Ft=t=>w(t)&&t.size>0,wt=t=>w(t)&&t.size===0,w=t=>Object.prototype.toString.call(t)==="[object Map]",Ot={isNonEmptyMap:Ft,isEmptyMap:wt,isMap:w};var Y=t=>Number.isNaN(t),_=t=>Object.prototype.toString.call(t)==="[object Number]",h=t=>_(t)&&Number.isFinite(t),ut=t=>h(t)&&!Number.isInteger(t),z=t=>h(t)&&Number.isInteger(t),kt=t=>t===1/0||t===-1/0,At=t=>h(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER,H=t=>h(t)&&Number.isSafeInteger(t),jt=(t,e)=>+t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:+t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:z(+t)?+t:+t>0?Math.floor(+t):+t<0?Math.ceil(+t):0,Dt=(t,e)=>+t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:+t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:h(+t)?+t:0,L=(t,e)=>z(+t)?+t:h(+t)?+t>0?Math.floor(+t):Math.ceil(+t):0,tt=(t,e=NaN)=>h(+t)&&z(+t)?+t:h(+t)&&!Y(e)?+et(+t,e):h(+t)?+t:0,_t=(t,e=NaN)=>_(+t)&&z(+t)?+t:_(+t)&&!Y(e)?+et(+t,e):_(+t)?+t:0,et=(t,e=NaN)=>{if(+t==1/0)return"Infinity";if(+t==-1/0)return"-Infinity";if(t=+t,e=e>=0?e:NaN,e=H(e)?e:NaN,h(t)&&!Y(e)){let r=Math.pow(10,e),o=Math.round(r*t),n=String(o/r);if(ut(+n))return n.split(".")[0]+"."+n.split(".")[1].padEnd(e,"0");if(z(+n))return n+"."+"".padEnd(e,"0")}return h(t)&&Y(e)?t+"":""},Mt={isNaN:Y,isNumber:_,isFinite:h,isDecimal:ut,isInteger:z,isInfinity:kt,isSafeNumber:At,isSafeInteger:H,toSafeInteger:jt,toSafeNumber:Dt,toInteger:L,toFinite:tt,toNumber:_t,toFixed:et};var A=t=>at(t)||ct(t),at=t=>Object.prototype.toString.call(t)==="[object Undefined]",ct=t=>Object.prototype.toString.call(t)==="[object Null]",vt={isNullable:A,isUndef:at,isNull:ct};var j=t=>R(t)&&!!t.trim(),Gt=t=>R(t)&&!t.trim(),R=t=>Object.prototype.toString.call(t)==="[object String]",Pt={isNonEmptyString:j,isEmptyString:Gt,isString:R};var P=t=>Object.prototype.toString.call(t)==="[object Date]",ft=t=>P(t)&&h(+t),Ut=(t,e)=>{if(t=A(t)?new Date:t,e=A(e)?"YYYY-MM-DD":e,j(e)&&ft(t)){let r=t.getFullYear(),o=t.getMonth()+1,n=t.getDate(),c=t.getHours(),p=t.getMinutes(),T=t.getSeconds(),a=t.getMilliseconds();return e.replace(/YYYY|YY|MM?|DD?|HH?|mm?|ss?s?|ii?i?/gi,l=>{switch(l){case"YYYY":return String(r);case"yyyy":return String(r);case"YY":return String(r).slice(-2);case"yy":return String(r).slice(-2);case"MM":return String(o).padStart(2,"0");case"M":return String(o);case"DD":return String(n).padStart(2,"0");case"dd":return String(n).padStart(2,"0");case"D":return String(n);case"d":return String(n);case"HH":return String(c).padStart(2,"0");case"hh":return String(c%12||12).padStart(2,"0");case"H":return String(c);case"h":return String(c%12||12);case"mm":return String(p).padStart(2,"0");case"m":return String(p);case"ss":return String(T).padStart(2,"0");case"s":return String(T);case"sss":return String(a).padStart(3,"0");case"iii":return String(a).padStart(3,"0");case"ii":return String(Math.floor(a/10)).padStart(2,"0");case"i":return String(Math.floor(a/100))}return l})}return""},zt={isValidDate:ft,dateFormat:Ut,isDate:P};var qt=t=>{try{return t instanceof ReferenceError}catch(e){return!1}},Wt=t=>{try{return t instanceof SyntaxError}catch(e){return!1}},Yt=t=>{try{return t instanceof RangeError}catch(e){return!1}},Lt=t=>{try{return t instanceof EvalError}catch(e){return!1}},Zt=t=>{try{return t instanceof TypeError}catch(e){return!1}},Bt=t=>{try{return t instanceof URIError}catch(e){return!1}},Kt=t=>{try{return t instanceof Error}catch(e){return!1}},$t={isReferenceError:qt,isSyntaxError:Wt,isRangeError:Yt,isEvalError:Lt,isTypeError:Zt,isURIError:Bt,isError:Kt};var Ht=t=>b(t)&&t.length>0,Vt=t=>b(t)&&t.length===0,b=t=>Array.isArray(t),Xt={isNonEmptyArray:Ht,isEmptyArray:Vt,isArray:b};var Jt=t=>x(t)&&Object.keys(t).length>0,Qt=t=>x(t)&&Object.keys(t).length===0,x=t=>Object.prototype.toString.call(t)==="[object Object]",te={isNonEmptyObject:Jt,isEmptyObject:Qt,isObject:x};var m=t=>Object.prototype.toString.call(t)==="[object RegExp]",ee=(t,e)=>m(t)?new RegExp(t.source,e!=null?e:t.flags):R(t)?new RegExp(t,e):/(?:)/,re={isRegExp:m,toRegExp:ee};var Z=t=>Object.prototype.toString.call(t)==="[object Symbol]",ne=t=>Z(t)&&R(Symbol.keyFor(t))?t:R(t)||h(t)?Symbol.for(t+""):Symbol.for("undefined"),ie=t=>!Z(t)&&R(t)||!Z(t)&&h(t)?Symbol(t):Z(t)?t:Symbol(),oe={isSymbol:Z,toSymbol:ie,toSymbolFor:ne};var se=t=>t===!0||t===!1,ue=t=>t===!1,ae=t=>t===!0,ce={isBoolean:se,isFalse:ue,isTrue:ae};var fe=(...t)=>{let{promise:e,resolve:r,reject:o}=Promise.withResolvers(),n=Promise.race([...t,e]);return n=n.then(c=>(n.pending=!1,n.rejected=!1,n.fulfilled=!0,n.completed=!0,c)),n=n.catch(c=>(n.pending=!1,n.rejected=!0,n.fulfilled=!1,n.completed=!0,Promise.reject(c))),n=Object.assign(n,{reject:o,resolve:r,promise:n,completed:!1,fulfilled:!1,rejected:!1,pending:!0}),n},le=t=>Object.prototype.toString.call(t)==="[object Promise]",Te={isPromise:le,toPromise:fe};var de=t=>Object.prototype.toString.call(t)==="[object WeakSet]",ye={isWeakSet:de};var rt=t=>Object.prototype.toString.call(t)==="[object WeakMap]",pe={isWeakMap:rt};var lt=t=>Object.prototype.toString.call(t)==="[object GeneratorFunction]",Tt=t=>Object.prototype.toString.call(t)==="[object AsyncFunction]",dt=t=>Object.prototype.toString.call(t)==="[object Function]",q=t=>dt(t)||Tt(t)||lt(t),me={isGeneratorFunction:lt,isNormalFunction:dt,isAsyncFunction:Tt,isFunction:q};var yt=function(t,e){if(!q(t))throw new TypeError("#<fn> is not a function");let r=(o,n,c,p,T)=>(...l)=>{let s=p.slice(),u=T.slice();return l.forEach(i=>{if(!T.length&&i===c){s.push(i),u.push(s.length-1);return}if(!T.length&&i!==c){s.push(i);return}if(T.length&&i!==c){let d=T.shift();u.splice(u.indexOf(d),1),s[d]=i;return}T.shift()}),s.length>=n&&s.slice(0,n).every(i=>i!==c)?o.apply(this,s):r(o,n,c,s,u)};return r(t,H(e)&&e>=0?e:t.length,yt,[],[])},ge={curry:yt};var pt=(t,e,r={})=>{let o,n,c,p,T=0,a=0;if(!q(t))throw new TypeError("#<func> is not a function");x(r)||(r={}),e=Math.max(tt(e),0);let l=r.leading===!0,s=r.trailing!==!1,u=e<20&&typeof window.requestAnimationFrame=="function",f=h(r.maxWait)&&Math.max(r.maxWait,e);function i(){let C=Date.now();if(k(C))return M(C);u&&(n=window.requestAnimationFrame(i)),u||(n=setTimeout(i,d(C)))}function d(C){let D=C-T,v=C-a,K=Math.max(e-D,0),G=Math.max(+f-v,0);return f===!1?K:Math.min(K,G)}function k(C){let D=C-T,v=C-a;return T===0||D<0||D>=e||f!==!1&&v>=f}function N(C){return l?y(C):(a=C,u&&(n=window.requestAnimationFrame(i)),u||(n=setTimeout(i,e)),o)}function M(C){return n=void 0,s&&c?y(C):(c=p=void 0,o)}function y(C){let D=c,v=p;return a=C,c=p=void 0,o=t.apply(v,D),o}function U(){A(n)||(u&&window.cancelAnimationFrame(n),u||clearTimeout(n)),c=p=n=void 0,T=a=0}function W(){return A(n)?o:M(Date.now())}function I(...C){let D=Date.now(),v=k(D);return p=this,c=C,T=D,v&&A(n)?N(T):v&&f!==!1?(u||clearTimeout(n),u&&window.cancelAnimationFrame(n),u&&(n=window.requestAnimationFrame(i)),u||(n=setTimeout(i,d(D))),y(T)):(A(n)&&(u&&(n=window.requestAnimationFrame(i)),u||(n=setTimeout(i,e))),o)}return I.cancel=U,I.flush=W,I},he=(t,e,r={})=>{let o=!x(r)||r.leading!==!1,n=!x(r)||r.trailing!==!1;if(!q(t))throw new TypeError("#<func> is not a function");return pt(t,e,{maxWait:e,leading:o,trailing:n})},xe={debounce:pt,throttle:he};var B=(t,e,r=!0)=>{if(t===e||Object.is(t,e))return!0;if(F(t)&&F(e)||w(t)&&w(e))return t.size===e.size&&B(Array.from(t),Array.from(e),r);if(_(t)&&_(e))return Math.abs(t-e)<Number.EPSILON;let o=x(r)?r.deep:r,n=A(o)||o===!0||o===1/0?1/0:L(o),c=x(r)&&b(r.include)?r.include.filter(a=>m(a)||h(a)||R(a)):[/(?:)/],p=x(r)&&b(r.exclude)?r.exclude.filter(a=>m(a)||h(a)||R(a)):[],T=x(r)&&b(r.strict)?r.strict.filter(a=>m(a)||h(a)||R(a)):[];if(!_(n)||n<1)return!1;if(m(t)&&m(e))return t.source===e.source&&t.flags===e.flags&&t.lastIndex===e.lastIndex;if(x(t)&&x(e)){let a=Object.keys(t).filter(s=>{let u=p.length>0&&p.some(i=>m(i)?i.test(String(s)):String(i)===String(s)),f=c.length===0||c.some(i=>m(i)?i.test(String(s)):String(i)===String(s));return!u&&f}),l=Object.keys(e).filter(s=>{let u=p.length>0&&p.some(i=>m(i)?i.test(String(s)):String(i)===String(s)),f=c.length===0||c.some(i=>m(i)?i.test(String(s)):String(i)===String(s));return!u&&f});if(a.length!==l.length)return!1;for(let s of Object.keys(t)){let u=t[s],f=e[s],i=n-1,d=T.length>0&&T.some(y=>m(y)?y.test(String(s)):String(y)===String(s)),k=p.length>0&&p.some(y=>m(y)?y.test(String(s)):String(y)===String(s)),N=c.length===0||c.some(y=>m(y)?y.test(String(s)):String(y)===String(s));if(k||!N||u===f)continue;if(d||i<1||!B(u,f,{strict:T,include:c,exclude:p,deep:i}))return!1}return!0}if(b(t)&&b(e)){let a=Object.keys(t).filter(s=>{let u=p.length>0&&p.some(i=>m(i)?i.test(String(s)):String(i)===String(s)),f=c.length===0||c.some(i=>m(i)?i.test(String(s)):String(i)===String(s));return!u&&f}),l=Object.keys(e).filter(s=>{let u=p.length>0&&p.some(i=>m(i)?i.test(String(s)):String(i)===String(s)),f=c.length===0||c.some(i=>m(i)?i.test(String(s)):String(i)===String(s));return!u&&f});if(a.length!==l.length)return!1;for(let s of t.keys()){let u=t[s],f=e[s],i=n-1,d=T.length>0&&T.some(y=>m(y)?y.test(String(s)):String(y)===String(s)),k=p.length>0&&p.some(y=>m(y)?y.test(String(s)):String(y)===String(s)),N=c.length===0||c.some(y=>m(y)?y.test(String(s)):String(y)===String(s));if(k||!N||u===f)continue;if(d||i<1||!B(u,f,{strict:T,include:c,exclude:p,deep:i}))return!1}return!0}return P(t)&&P(e)?Object.is(t.getTime(),e.getTime()):!1},nt=(t,e=!0)=>{let r=x(e)?e.deep:e,o=x(e)&&rt(e.cache)?e.cache:new WeakMap,n=A(r)||r===!0||r===1/0?1/0:Math.max(L(r),1),c=x(e)&&b(e.omit)?e.omit.filter(l=>m(l)||R(l)||h(l)):[],p=x(e)&&b(e.pick)?e.pick.filter(l=>m(l)||R(l)||h(l)):[],T=(l,s)=>{let u=b(l)?[]:{};for(let[f,i]of a(l)){if(p.length>0&&!p.some(I=>m(I)?I.test(String(f)):String(I)===String(f))||c.length>0&&c.some(I=>m(I)?I.test(String(f)):String(I)===String(f)))continue;let d=i,k=F(i),N=w(i),M=P(i),y=b(i),U=x(i),W=m(i);if(!k&&!N&&!M&&!y&&!U&&!W){b(u)&&u.push(d),b(u)||(u[f]=d);continue}s>1&&!o.has(i)&&o.set(i,nt(i,{omit:c,pick:p,cache:o,deep:s-1})),s>1&&o.has(i)&&(d=o.get(i)),b(u)&&u.push(d),b(u)||(u[f]=d)}return u},a=l=>x(l)?Object.entries(l):l.entries();if(!_(n)||n<1)return t;if(m(t)){let l=t.flags,s=t.source,u=new RegExp(s,l);return u.lastIndex=t.lastIndex,u}if(x(t)||b(t))return T(t,n);if(P(t))return new Date(+t);if(w(t)){let l=Array.from(t.entries());return new Map(T(l,n))}if(F(t)){let l=Array.from(t.values());return new Set(T(l,n))}return t},Se=(t,...e)=>{let r={},o=new WeakMap,n=e.slice(-1)[0],c=_(n)&&n!==1/0?Math.max(L(n),1):n!==!1?1/0:1,p=a=>x(a)?Object.entries(a):a.entries(),T=(a,l,s)=>{let u=w(a)||F(a)?Array.from(a):a,f=w(l)||F(l)?Array.from(l):l;for(let[i,d]of p(f)){if(s<1){u[i]=d;continue}let k=F(d),N=w(d),M=P(d),y=b(d),U=x(d),W=m(d),I=r.toString.call(u[i])!==r.toString.call(d);if(!k&&!N&&!M&&!y&&!U&&!W){u[i]=d;continue}if(o.has(d)||o.set(d,nt(d,{deep:s,cache:o})),I){u[i]=o.get(d);continue}T(u[i],f[i],s-1)}if((w(a)||F(a))&&a.clear(),w(a))for(let[i,d]of u)a.set(i,d);if(F(a))for(let i of u)a.add(i)};if(x(t)||b(t)||w(t)||F(t))for(let a of e)r.toString.call(t)===r.toString.call(a)&&T(t,a,c-1);return t},Ce=(t,e)=>Object.is(t,e),be={clone:nt,equal:B,merge:Se,check:Ce};var Re=t=>j(t)?t.replace(/[A-Z]/g,e=>e&&e.toLowerCase()):t,Ne=t=>j(t)?t.replace(/[a-z]/g,e=>e&&e.toUpperCase()):t,Ie=(t,e=!1)=>e===!0?j(t)?t.replace(/(^|[_-])([a-z])/g,(r,o,n)=>n&&n.toUpperCase()):t:j(t)?t.replace(/[_-]([a-z])/g,(r,o)=>o&&o.toUpperCase()):t,Ee=(t,e=!1)=>e===!0?j(t)?t.replace(/([A-Z])/g,"_$1").replace(/([_-])([a-zA-Z])/g,"_$2").toLowerCase().replace(/^[_-]+/,""):t:j(t)?t.replace(/([A-Z])/g,"_$1").replace(/([_-])([a-zA-Z])/g,"_$2").toLowerCase():t,Fe=(t,e=!1)=>e===!0?j(t)?t.replace(/([A-Z])/g,"-$1").replace(/([_-])([a-zA-Z])/g,"-$2").toLowerCase().replace(/^[_-]+/,""):t:j(t)?t.replace(/([A-Z])/g,"-$1").replace(/([_-])([a-zA-Z])/g,"-$2").toLowerCase():t,we={lowerCase:Re,upperCase:Ne,camelCase:Ie,underCase:Ee,hyphenCase:Fe};var V=0,mt=0,it=0,X,g,O=class t{static isNeedRecompute(e){for(let r=e.source;r!==void 0;r=r.nextSource)if(r.signal.version!==r.version||!r.signal.refresh()||r.signal.version!==r.version)return!0;return!1}static prepareSources(e){for(let r=e.source;r!==void 0;r=r.nextSource)if(r.signal.node!==void 0&&(r.rollbackNode=r.signal.node),r.version=-1,r.signal.node=r,r.nextSource===void 0){e.source=r;break}}static cleanSources(e){let r=e.source,o;for(;r!==void 0;){let n=r.prevSource;r.version===-1?(r.signal.delNode(r),n!==void 0&&(n.nextSource=r.nextSource),r.nextSource!==void 0&&(r.nextSource.prevSource=n)):o=r,r.signal.node=r.rollbackNode,r.rollbackNode!==void 0&&(r.rollbackNode=void 0),r=n}e.source=o}static startBatch(){V++}static endBatch(){if(V>1){V--;return}let e,r=!1;for(;X!==void 0;){let o=X;for(X=void 0,mt++;o!==void 0;){let n=o.nextEffect;if(o.nextEffect=void 0,o.flags&=-3,!(o.flags&8)&&t.isNeedRecompute(o))try{o.callback()}catch(c){r||(r=!0,e=c)}o=n}}if(mt=0,V--,r)throw e}},gt=class{constructor(e){E(this,"fn");E(this,"nextEffect");E(this,"cleanup");E(this,"source");E(this,"flags",32);this.fn=e}callback(){let e=this.start();try{if(this.flags&8||this.fn===void 0)return;let r=this.fn();typeof r=="function"&&(this.cleanup=r)}finally{e()}}dispose(){if(this.flags|=8,!(this.flags&1)){for(let e=this.source;e!==void 0;e=e.nextSource)e.signal.delNode(e);this.source=void 0,this.fn=void 0,this.clean()}}notify(){this.flags&2||(this.nextEffect=X,this.flags|=2,X=this)}clean(){let e=this.cleanup;if(this.cleanup=void 0,typeof e=="function"){O.startBatch();let r=g;g=void 0;try{e()}catch(o){throw this.flags&=-2,this.flags|=8,this.dispose(),o}finally{g=r,O.endBatch()}}}start(){if(this.flags&1)throw new Error("Cycle detected");this.flags|=1,this.flags&=-9,this.clean(),O.prepareSources(this),O.startBatch();let e=g,o=(n=>{if(g!==this)throw new Error("Out-of-order effect");O.cleanSources(this),g=n,this.flags&=-2,this.flags&8&&this.dispose(),O.endBatch()}).bind(this,e);return g=this,o}},ot=class{constructor(e){E(this,"val");E(this,"err");E(this,"node");E(this,"target");E(this,"version",0);this.val=e}get value(){let e=this.dependency();return e!==void 0&&(e.version=this.version),this.val}set value(e){if(e!==this.val){if(mt>128)throw new Error("Cycle detected");it++,this.version++,this.val=e;try{O.startBatch();for(let r=this.target;r!==void 0;r=r.nextTarget)r.target.notify()}finally{O.endBatch()}}}addNode(e){this.target!==e&&e.prevTarget===void 0&&(e.nextTarget=this.target,this.target!==void 0&&(this.target.prevTarget=e),this.target=e)}delNode(e){if(this.target!==void 0){let r=e.prevTarget,o=e.nextTarget;r!==void 0&&(r.nextTarget=o,e.prevTarget=void 0),o!==void 0&&(o.prevTarget=r,e.nextTarget=void 0),e===this.target&&(this.target=o)}}subscribe(e){return xt(()=>{let r=this.value,o=g;g=void 0;try{e(r)}finally{g=o}})}dependency(){if(g===void 0)return;let e=this.node;if(e===void 0||e.target!==g)return e={version:0,signal:this,target:g,prevSource:g.source,nextSource:void 0,prevTarget:void 0,nextTarget:void 0,rollbackNode:e},g.source!==void 0&&(g.source.nextSource=e),g.source=e,this.node=e,g.flags&32&&this.addNode(e),e;if(e.version===-1)return e.version=0,e.nextSource!==void 0&&(e.nextSource.prevSource=e.prevSource,e.prevSource!==void 0&&(e.prevSource.nextSource=e.nextSource),e.prevSource=g.source,e.nextSource=void 0,g.source.nextSource=e,g.source=e),e}refresh(){return!0}toString(){return this.value+""}valueOf(){return this.value}toJSON(){return this.value}peek(){let e=g;g=void 0;try{return this.value}finally{g=e}}},ht=class extends ot{constructor(r){super(void 0);E(this,"globalVersion",it-1);E(this,"source");E(this,"flags",4);E(this,"fn");this.fn=r}get value(){if(this.flags&1)throw new Error("Cycle detected");let r=this.dependency();if(this.refresh(),r!==void 0&&(r.version=this.version),this.flags&16)throw this.err;return this.val}addNode(r){if(this.target===void 0){this.flags|=36;for(let o=this.source;o!==void 0;o=o.nextSource)o.signal.addNode(o)}super.addNode(r)}delNode(r){if(this.target!==void 0&&(super.delNode(r),this.target===void 0)){this.flags&=-33;for(let o=this.source;o!==void 0;o=o.nextSource)o.signal.delNode(o)}}refresh(){if(this.flags&=-3,this.flags&1)return!1;if((this.flags&36)===32||(this.flags&=-5,this.globalVersion===it))return!0;if(this.globalVersion=it,this.flags|=1,this.version>0&&!O.isNeedRecompute(this))return this.flags&=-2,!0;let r=this,o=g;try{O.prepareSources(this),g=r;let n=this.fn();(this.flags&16||this.val!==n||this.version===0)&&(this.version=this.version+1,this.flags&=-17,this.err=void 0,this.val=n)}catch(n){this.version=this.version+1,this.flags|=16,this.err=n}return g=o,O.cleanSources(this),this.flags&=-2,!0}notify(){if(!(this.flags&2)){this.flags|=6;for(let r=this.target;r!==void 0;r=r.nextTarget)r.target.notify()}}},Oe=t=>{let e=g;g=void 0;try{return t()}finally{g=e}},ke=t=>new ht(t),xt=t=>{let e=new gt(t);try{e.callback()}catch(r){throw e.dispose(),r}return e.dispose.bind(e)},Ae=t=>new ot(t),je=t=>{if(V>0)return t();O.startBatch();try{return t()}finally{O.endBatch()}},De={untracked:Oe,computed:ke,effect:xt,signal:Ae,batch:je};var J=new Set([""]),_e=(t={})=>{let e=t.radix!==void 0?t.radix:16,r=t.random!==void 0?t.random:"?",o=t.format!==void 0?t.format:"????????-????-[1-5]???-[8-b]???-????????????".replace(/\?/g,r),n=t.uniques!==void 0?t.uniques:null;if(![2,8,10,16,26,36].includes(e))throw new Error("#<Options.radix> is not in [2, 8, 10, 16, 26, 36]");if(!["?","*","#"].includes(r))throw new Error('#<Options.random> is not in ["?", "*", "#"]');if(String(o)!==o)throw new Error("#<Options.format> is not string");n instanceof Array&&n.forEach(f=>typeof f=="string"&&J.add(f)),n instanceof Set&&n.forEach(f=>typeof f=="string"&&J.add(f));let c="",p=10,T=!0,a=e===26?10:0,l=Array.from({length:36},(f,i)=>i.toString(36)),s=J.add.bind(J),u=f=>{let i=f.min,d=f.max;return f.bytes[Math.random()*(d-i+1)+i|0]};for(;T&&p-- >0;){let f=o.replace(/\[([^\]]+?)\]/g,(N,M)=>{let y=new Set,U=y.add.bind(y),I=M.toLowerCase().split(/\s*,\s*/g).filter(G=>/^[a-zA-Z0-9\s/|\-*?#=:;]+$/ui.test(G)),C=G=>/^\s*[a-zA-Z0-9]\s*-\s*[a-zA-Z0-9]\s*$/.test(G),D=I.reduce((G,$)=>{if(C($.trim())){let ve=$.trim().split(/\s*-\s*/)[0],Ge=$.trim().split(/\s*-\s*/)[1],St=l.indexOf(ve.trim()),Ct=l.indexOf(Ge.trim()),Pe=Math.min(St,Ct),Ue=Math.max(St,Ct)+1;l.slice(Pe,Ue).forEach(U)}return C($.trim())||U($.trim()),G},y),K=Array.from(D).filter(G=>!!G);return u({bytes:K,max:K.length-1,min:0})}),i=0,d=e-1,k=l.slice(a);c=[...f.toLowerCase()].filter(N=>/^[a-zA-Z0-9\s/|\-*?#=:;]+$/ui.test(N)).map(N=>N===r?u({bytes:k,max:d,min:i}):N).join("").trim(),J.has(c)||(T=!1,s(c))}if(T)throw new Error("[Uniquer generate uuid] is Reduplicated");return c},Me={unique:_e};var Be=S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S({},Et),Ot),zt),$t),Xt),Mt),te),re),oe),Pt),ce),Te),ye),pe),me),vt),ge),xe),be),we),De),Me);return Ze(Ke);})();
